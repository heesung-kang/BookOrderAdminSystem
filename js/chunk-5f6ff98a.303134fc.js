(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5f6ff98a"],{"21be4":function(t,s,e){"use strict";e("7770")},2588:function(t,s,e){"use strict";e("fc2a")},"3e3e":function(t,s,e){"use strict";e.r(s);var a=e("ad87"),i=(e("14d9"),e("2f62")),r=e("e71f"),o=e("e31c"),h=e("f3e4"),c=e("1592"),n=e("78c6"),d={name:"OrderListTable",props:["status","data"],data:()=>({dataInit:!1}),watch:{data(t){this.dataInit=t.some(t=>t.shop_order_status===this.status)}},mounted(){this.dataInit=this.data.some(t=>t.shop_order_status===this.status)},methods:{statement(t){this.$router.push(`/DeliveryOrder/${t.id}/${t.date}/${t.orderRealTimeId}/${t.shopName}/${t.uid}`)}}},u=(e("21be4"),e("2877")),l={name:"OrderList",components:{OrderListTable:Object(u.a)(d,(function(){var t=this,s=t._self._c;return t.dataInit?s("table",{staticClass:"basic mb50"},[s("caption",[t._v("\n    서점별 주문리스트\n  ")]),t._m(0),s("tbody",t._l(t.data,(function(e,a){return s("tr",{key:a,on:{click:function(s){return t.statement({id:e.sid,date:e.timestamp,orderRealTimeId:e.order_real_time_id,shopName:e.shop_name,uid:e.uid})}}},[e.shop_order_status===t.status?s("td",[t._v(t._s(e.shop_name))]):t._e(),e.shop_order_status===t.status?s("td",[t._v(t._s(3===t.status?"출고대기":4===t.status?"출고":"완료"))]):t._e(),e.shop_order_status===t.status?s("td",[t._v(t._s(e.totalCount))]):t._e(),e.shop_order_status===t.status?s("td",[t._v(t._s(e.timestamp))]):t._e()])})),0)]):t._e()}),[function(){var t=this._self._c;return t("thead",[t("tr",[t("th",[this._v("서점")]),t("th",[this._v("상태")]),t("th",[this._v("수량")]),t("th",[this._v("발주일시")])])])}],!1,null,"1d6e6a45",null).exports,TableSkeleton:n.a},props:["searchObj"],data:()=>({list:["test"],books:[],result:[],searchResult:[]}),computed:{...Object(i.b)("common",["skeletonLoading"])},watch:{searchObj(){this.search()}},async created(){try{this.$store.commit("common/setSkeleton",!0);const{info:{sid:t}}=Object(h.b)("userInfo"),s=Object(r.j)(Object(r.b)(o.b,"orderRequest"),Object(r.n)("sid","==",t),Object(r.n)("shop_order_status",">=",3),Object(r.i)("shop_order_status","desc"),Object(r.i)("order_real_time_id","desc"));(await Object(r.f)(s)).forEach(t=>{const s=t.data();s.timestamp=this.$date(t.data().order_real_time.toDate()).format("YYYY-MM-DD HH:mm:ss"),s.searchTimestamp=this.$date(t.data().order_real_time.toDate()).format("YYYY-MM-DD"),this.books.push(s)}),this.result=Object(c.a)(this.books),this.searchResult=this.searchResult.concat(this.result)}catch(t){console.log(t)}this.$store.commit("common/setSkeleton",!1)},methods:{search(){this.result=this.searchResult.filter(t=>{if(""===this.searchObj.shop_name&&void 0===this.searchObj.startDate)return t;if(""===this.searchObj.shop_name&&void 0!==this.searchObj.startDate){if(t.searchTimestamp>=this.searchObj.startDate&&t.searchTimestamp<=this.searchObj.endDate)return t}else if(""!==this.searchObj.shop_name&&t.shop_name.includes(this.searchObj.shop_name)){if(void 0===this.searchObj.startDate)return t;if(t.searchTimestamp>=this.searchObj.startDate&&t.searchTimestamp<=this.searchObj.endDate)return t}})}}},m=(e("2588"),Object(u.a)(l,(function(){var t=this._self._c;return t("section",[this.skeletonLoading?t("TableSkeleton"):t("div",[t("OrderListTable",{attrs:{status:3,data:this.result}}),t("OrderListTable",{attrs:{status:4,data:this.result}}),t("OrderListTable",{attrs:{status:5,data:this.result}}),0===this.result.length?t("div",{staticClass:"none"},[this._v("출고목록이 없습니다.")]):this._e()],1)],1)}),[],!1,null,"388d9c2d",null).exports),_={components:{SearchDateRangeGroup:a.a,DeliveryList:m},data:()=>({itemList:[{item:"서점",value:"shop"}],searchObj:{}}),methods:{search(t){this.searchObj=t}}},b=(e("48f4"),Object(u.a)(_,(function(){var t=this._self._c;return t("section",[t("h2",{staticClass:"sub-title"},[this._v("출고 목록")]),t("section",{staticClass:"sub-container"},[t("h3",[this._v("출고 목록")]),t("section",{staticClass:"mt10"},[t("SearchDateRangeGroup",{attrs:{itemList:this.itemList},on:{search:this.search}})],1),t("section",{staticClass:"mt30"},[t("DeliveryList",{attrs:{searchObj:this.searchObj}})],1)])])}),[],!1,null,"471342d2",null));s.default=b.exports},"48f4":function(t,s,e){"use strict";e("5bbe")},"5bbe":function(t,s,e){},7770:function(t,s,e){},fc2a:function(t,s,e){}}]);