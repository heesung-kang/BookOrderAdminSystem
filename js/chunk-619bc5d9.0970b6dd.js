(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-619bc5d9"],{"0be6":function(t,s,i){},"0cc6":function(t,s,i){"use strict";i.r(s);i("14d9");var o=i("e71f"),a=i("e31c"),c=i("f3e4"),e={name:"BookManagement",data:()=>({limit:20,page:1,totalPage:0,sid:"",books:[],documentSnapshots:"",first:""}),created(){const t=Object(c.b)("userInfo");this.uid=t.uid,this.sid=t.info.sid},async mounted(){this.$store.commit("common/setLoading",!0);const t=Object(o.m)(Object(o.b)(a.b,"booksData"),Object(o.r)("sid","==",this.sid)),s=(await Object(o.f)(t)).data().count,i=Object(o.m)(Object(o.b)(a.b,"booksData"),Object(o.r)("sid","==",this.sid),Object(o.l)("subject","asc"),Object(o.j)(this.limit));this.documentSnapshots=await Object(o.h)(i),this.$store.commit("common/setLoading",!1),this.documentSnapshots.forEach(t=>{this.books.push({id:t.id,data:t.data()})}),this.totalPage=Math.ceil(s/this.limit)},methods:{async prev(){this.page-=1,this.$store.commit("common/setLoading",!0);const t=this.documentSnapshots.docs[0],s=Object(o.m)(Object(o.b)(a.b,"booksData"),Object(o.r)("sid","==",this.sid),Object(o.l)("subject","asc"),Object(o.e)(t),Object(o.k)(this.limit));this.documentSnapshots=await Object(o.h)(s),this.books=[],this.$store.commit("common/setLoading",!1),this.documentSnapshots.forEach(t=>{this.books.push({id:t.id,data:t.data()})})},async next(){this.page+=1,this.$store.commit("common/setLoading",!0);const t=this.documentSnapshots.docs[this.documentSnapshots.docs.length-1],s=Object(o.m)(Object(o.b)(a.b,"booksData"),Object(o.r)("sid","==",this.sid),Object(o.l)("subject","asc"),Object(o.p)(t),Object(o.j)(this.limit));this.documentSnapshots=await Object(o.h)(s),this.books=[],this.$store.commit("common/setLoading",!1),this.documentSnapshots.forEach(t=>{this.books.push({id:t.id,data:t.data()})})}}},n=(i("499a"),i("2877")),h=Object(n.a)(e,(function(){var t=this,s=t._self._c;return s("section",[s("h2",{staticClass:"sub-title"},[t._v("도서 관리")]),s("section",{staticClass:"sub-container"},[s("h3",[t._v("도서 리스트")]),s("table",{staticClass:"info-tbl mt5"},[t._m(0),s("tbody",[t._m(1),t._l(t.books,(function(i){return s("tr",{key:i.data.isbn},[s("td",[t._v(t._s(i.data.isbn))]),s("td",[t._v(t._s(i.data.subject))]),s("td",[t._v(t._s(i.data.author))])])}))],2)]),s("section",{staticClass:"pagination"},[s("button",{staticClass:"prev",attrs:{disabled:1===t.page},on:{click:t.prev}},[t._v("<")]),s("button",{staticClass:"next",attrs:{disabled:t.page===t.totalPage},on:{click:t.next}},[t._v(">")])])])])}),[function(){var t=this._self._c;return t("colgroup",[t("col",{attrs:{width:"120"}}),t("col",{attrs:{width:"*"}}),t("col",{attrs:{width:"80"}})])},function(){var t=this._self._c;return t("tr",[t("th",[this._v("isbn")]),t("th",[this._v("도서명")]),t("th",[this._v("저자")])])}],!1,null,"150b079a",null);s.default=h.exports},"499a":function(t,s,i){"use strict";i("0be6")}}]);