(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-762197c2"],{"4c6a":function(t,s,e){"use strict";e("a38a")},5408:function(t,s,e){"use strict";e.r(s);var a=e("ad87"),r=(e("14d9"),e("2f62")),i=e("e71f"),o=e("e31c"),c=e("f3e4"),h=e("1592"),n={name:"OrderList",components:{TableSkeleton:e("78c6").a},props:["searchObj"],data:()=>({list:["test"],books:[],result:[],searchResult:[]}),computed:{...Object(r.b)("common",["skeletonLoading"])},watch:{searchObj(){this.search()}},async created(){try{this.$store.commit("common/setSkeleton",!0);const{info:{sid:t}}=Object(c.b)("userInfo"),s=Object(i.j)(Object(i.b)(o.b,"orderRequest"),Object(i.n)("sid","==",t),Object(i.i)("order_time_id","desc"));(await Object(i.f)(s)).forEach(t=>{const s=t.data();s.timestamp=this.$date(t.data().order_time.toDate()).format("YYYY-MM-DD HH:mm:ss"),s.searchTimestamp=this.$date(t.data().order_time.toDate()).format("YYYY-MM-DD"),null===t.data().reply_time?s.replytimestamp="-":s.replytimestamp=this.$date(t.data().reply_time.toDate()).format("YYYY-MM-DD HH:mm:ss"),this.books.push(s)}),this.result=Object(h.a)(this.books),this.searchResult=this.searchResult.concat(this.result)}catch(t){console.log(t)}this.$store.commit("common/setSkeleton",!1)},methods:{search(){this.result=this.searchResult.filter(t=>{if(""===this.searchObj.shop_name&&void 0===this.searchObj.startDate)return t;if(""===this.searchObj.shop_name&&void 0!==this.searchObj.startDate){if(t.searchTimestamp>=this.searchObj.startDate&&t.searchTimestamp<=this.searchObj.endDate)return t}else if(""!==this.searchObj.shop_name&&t.shop_name.includes(this.searchObj.shop_name)){if(void 0===this.searchObj.startDate)return t;if(t.searchTimestamp>=this.searchObj.startDate&&t.searchTimestamp<=this.searchObj.endDate)return t}})},statement(t){this.$router.push(`/OrderListDetail/${t.id}/${t.date}/${t.orderTimeId}/${t.shopName}/${t.uid}`)}}},d=(e("4c6a"),e("2877")),m=Object(d.a)(n,(function(){var t=this,s=t._self._c;return s("section",[t.skeletonLoading?s("TableSkeleton"):s("table",{staticClass:"basic"},[s("caption",[t._v("\n      서점별 주문리스트\n    ")]),s("thead",[s("tr",[s("th",[t._v("서점")]),s("th",[t._v("수량")]),s("th",[t._v("상태")]),s("th",[t._v("발신일시")]),s("th",[t._v("회신일시")])])]),s("tbody",t._l(t.result,(function(e,a){return s("tr",{key:a,on:{click:function(s){return t.statement({id:e.sid,date:e.timestamp,orderTimeId:e.order_time_id,shopName:e.shop_name,uid:e.uid})}}},[s("td",[t._v(t._s(e.shop_name))]),0===e.shop_order_status?s("td",[t._v(t._s(e.count))]):1===e.shop_order_status?s("td",[t._v(t._s(e.reply_count))]):s("td",[t._v(t._s(e.totalCount))]),s("td",[t._v("\n          "+t._s(0===e.shop_order_status?"회신 전":1===e.shop_order_status?"회신":2===e.shop_order_status?"발주":3===e.shop_order_status?"출고대기":4===e.shop_order_status?"출고":"완료")+"\n        ")]),s("td",[t._v(t._s(e.timestamp))]),s("td",[t._v(t._s(e.replytimestamp))])])})),0),0===t.result.length?s("tfoot",[s("tr",[s("td",{attrs:{colspan:"5"}},[t._v("주문 리스트가 없습니다.")])])]):t._e()])],1)}),[],!1,null,"52818058",null).exports,u={components:{SearchDateRangeGroup:a.a,OrderList:m},data:()=>({itemList:[{item:"서점",value:"shop"}],searchObj:{}}),methods:{search(t){this.searchObj=t}}},_=(e("5444"),Object(d.a)(u,(function(){var t=this._self._c;return t("section",[t("h2",{staticClass:"sub-title"},[this._v("주문 내역")]),t("section",{staticClass:"sub-container"},[t("h3",[this._v("서점 주문 리스트")]),t("section",{staticClass:"mt10"},[t("SearchDateRangeGroup",{attrs:{itemList:this.itemList},on:{search:this.search}})],1),t("section",{staticClass:"mt30"},[t("OrderList",{attrs:{searchObj:this.searchObj}})],1)])])}),[],!1,null,"7ccc05ed",null));s.default=_.exports},5444:function(t,s,e){"use strict";e("d105")},a38a:function(t,s,e){},d105:function(t,s,e){}}]);